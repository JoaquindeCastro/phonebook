{"version":3,"sources":["services/people.js","Filter.js","AddPersonForm.js","People.js","Notifications.js","App.js","index.js"],"names":["baseUrl","peopleService","getAll","axios","get","create","newObject","post","deleteOne","id","delete","update","updatedObject","put","Filter","filter","setFilter","handleOnChange","htmlFor","name","value","onChange","AddPersonForm","newName","setNewName","newNum","setNewNum","handleSubmit","onSubmit","type","People","people","handleDelete","map","e","number","onClick","Capitalize","str","charAt","toUpperCase","slice","Success","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Error","App","useState","setPeople","successMessage","setSuccess","errorMessage","setError","setSuccessMessage","setTimeout","setErrorMessage","useEffect","then","response","data","names","peopleToShow","toLowerCase","includes","setVal","event","target","preventDefault","window","confirm","personToUpdate","find","p","updatedPerson","res","catch","err","console","log","error","newPerson","concat","nameToDelete","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.017fdd8b.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => axios.get(baseUrl)\r\n\r\nconst create = newObject => axios.post(baseUrl, newObject)\r\n\r\nconst deleteOne = id => axios.delete(`${baseUrl}/${id}`)\r\n\r\nconst update = updatedObject => axios.put(`${baseUrl}/${updatedObject.id}`, updatedObject)\r\n\r\nconst peopleService = {getAll, create, deleteOne, update}\r\n\r\nexport default peopleService","const Filter = ({filter,setFilter,handleOnChange}) => {\r\n    return (\r\n      <form>\r\n        <label htmlFor=\"filter\"><em>Filter by name: </em></label><input name=\"filter\" value={filter} onChange={handleOnChange(setFilter)} /><br/><br/>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default Filter","const AddPersonForm = ({newName,setNewName,newNum,setNewNum,handleSubmit,handleOnChange}) => {\r\n    return (\r\n      <form onSubmit={handleSubmit}>\r\n        <h2>Add new entry</h2>\r\n        <div>\r\n          <label htmlFor=\"name\">Name: </label><input name=\"name\" value={newName} onChange={handleOnChange(setNewName)} /><br/><br/>\r\n          <label htmlFor=\"number\">Number: </label><input name=\"number\" value={newNum} onChange={handleOnChange(setNewNum)} />\r\n        </div>\r\n        <br/>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default AddPersonForm","const People = ({people, handleDelete}) => {\r\n    return (\r\n      <table>\r\n        <tbody>\r\n        {people.map(e => \r\n          <tr key={e.id}>\r\n            <td>{e.name}</td>\r\n            <td>{e.number}</td>\r\n            <td><button onClick={() => handleDelete(e.id)}>Delete</button></td>\r\n          </tr>\r\n        )}\r\n        </tbody>\r\n      </table>\r\n    )\r\n}\r\n\r\nexport default People","const Capitalize = str => str.charAt(0).toUpperCase() + str.slice(1)\r\n\r\nexport const Success = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n  const style = {\r\n    color: \"green\",\r\n    background: \"lightgreen\",\r\n    fontSize: 18,\r\n    borderStyle: \"solid\",\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10\r\n  }\r\n  return (\r\n    <div style={style}>\r\n      {Capitalize(message)}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const Error = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n  const style = {\r\n    color: \"red\",\r\n    background: \"#FFCCCC\",\r\n    fontSize: 18,\r\n    borderStyle: \"solid\",\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10\r\n  }\r\n  return (\r\n    <div style={style}>\r\n    {Capitalize(message)}\r\n    </div>\r\n  )\r\n}","import React, { useState, useEffect } from 'react';\nimport peopleService from './services/people.js';\nimport Filter from './Filter.js';\nimport AddPersonForm from './AddPersonForm.js';\nimport People from './People.js';\nimport { Success, Error } from './Notifications.js';\n\nconst App = () => {\n  const [people, setPeople] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNum, setNewNum ] = useState('')\n  const [ filter, setFilter ] = useState('')\n\n  const [successMessage, setSuccess] = useState('')\n  const [errorMessage, setError] = useState('')\n\n  const messageDuration = 3000;\n\n  const setSuccessMessage = message => {\n    setSuccess(message)\n    setTimeout(() => setSuccess(''),messageDuration)\n  }\n\n  const setErrorMessage = message => {\n    setError(message)\n    setTimeout(() => setError(''),messageDuration)\n  }\n\n  useEffect(() => {\n    peopleService\n      .getAll()\n      .then(response => {\n        setPeople(response.data)\n      })\n  }, [])\n\n  const names = people.map(e => e.name)\n  const peopleToShow = filter\n  ? people.filter(e => e.name.toLowerCase().includes(filter.toLowerCase()))\n  : people\n\n  const handleOnChange = setVal => event => {\n    setVal(event.target.value)\n  }\n\n  const handleSubmit = event => {\n    event.preventDefault()\n    if (names.includes(newName)){\n      const confirmUpdate = \n        window.confirm(`${newName} is already in PhoneBook, do you want to update the ${newName}'s number to ${newNum}?`)\n      if (confirmUpdate){\n        const personToUpdate = people.find(p => p.name === newName)\n        const updatedPerson = {...personToUpdate, number:newNum}\n        peopleService\n          .update(updatedPerson)\n          .then(res => {\n            setPeople(\n              people.map(p => p.id !== updatedPerson.id ? p : res.data),\n              setSuccessMessage(`Successfully updated ${updatedPerson.name}'s number to ${newNum}.`)\n            )\n          })\n          .catch(err => {\n            console.log(err.response.data)\n            setErrorMessage(err.response.data.error)\n          })\n      }\n    } else{\n      const newPerson = {name:newName,number:newNum}\n      peopleService\n      .create(newPerson)\n      .then(response => {\n        setPeople(people.concat(response.data))\n        setSuccessMessage(`Successfully added ${newName}.`)\n      })\n      .catch(err => {\n        console.log(err.response.data)\n        setErrorMessage(err.response.data.error)\n      })\n    }\n  }\n\n  const handleDeleteOf = id => {\n    const nameToDelete = people.find(p => p.id===id).name\n    console.log(nameToDelete)\n    const confirmDelete = \n      window.confirm(`Are you sure you want to delete entry '${nameToDelete}?'`)\n    if (confirmDelete){\n      peopleService\n      .deleteOne(id)\n      .then(res => {\n        setSuccessMessage(`successfully deleted entry '${nameToDelete}'`)\n      })\n      .catch(err => setErrorMessage(`Entry ${nameToDelete} has already been removed from the database. Kindly refresh the browser to see updates.`))\n      setPeople(people.filter(p => p.id !== id))\n    }\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      {successMessage\n      ? <Success message={successMessage} />\n      : errorMessage\n      ? <Error message={errorMessage} />\n      : null   \n      }\n\n      <AddPersonForm newName={newName} setNewName={setNewName} newNum={newNum} setNewNum={setNewNum} handleSubmit={handleSubmit} handleOnChange={handleOnChange} />\n\n      <h2>Numbers</h2>\n\n      <Filter filter={filter} setFilter={setFilter} handleOnChange={handleOnChange} />\n  \n      <People people={peopleToShow} handleDelete={handleDeleteOf} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}